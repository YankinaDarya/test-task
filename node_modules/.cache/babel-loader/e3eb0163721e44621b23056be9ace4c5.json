{"ast":null,"code":"import _objectSpread from \"/home/daria/table/test-task/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { dataAPI } from '../api/api';\nimport { SET_DATA, SET_KEYS, INITIALIZED_SUCCESS, DIRECT_SORT, REVERSED_SORT, setKeys, setData, initializedSuccess } from '../actions/actions';\nconst initialState = {\n  profiles: [],\n  keys: [],\n  initialized: false\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_DATA:\n      return _objectSpread({}, state, {\n        profiles: action.data\n      });\n\n    case SET_KEYS:\n      return _objectSpread({}, state, {\n        keys: action.keys\n      });\n\n    case INITIALIZED_SUCCESS:\n      return _objectSpread({}, state, {\n        initialized: true\n      });\n\n    case DIRECT_SORT:\n      return _objectSpread({}, state, {\n        profiles: [...state.profiles.sort((a, b) => a[action.key].toLowerCase() > b[action.key].toLowerCase() ? 1 : b[action.key].toLowerCase() > a[action.key].toLowerCase() ? -1 : 0)]\n      });\n\n    case REVERSED_SORT:\n      return _objectSpread({}, state, {\n        profiles: [...state.profiles.sort((a, b) => b[action.key].toLowerCase() > a[action.key].toLowerCase() ? 1 : a[action.key].toLowerCase() > b[action.key].toLowerCase() ? -1 : 0)]\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\nexport const getProfiles = () => dispatch => {\n  return dataAPI.getData().then(response => {\n    if (response.status === 200) {\n      dispatch(setKeys(Object.keys(response.data[0])));\n      dispatch(setData(response.data));\n    }\n  });\n};\nexport const initializeApp = () => dispatch => {\n  const promise = dispatch(getProfiles());\n  Promise.all([promise]).then(() => {\n    dispatch(initializedSuccess());\n  });\n};","map":{"version":3,"sources":["/home/daria/table/test-task/src/redux/reducer.js"],"names":["dataAPI","SET_DATA","SET_KEYS","INITIALIZED_SUCCESS","DIRECT_SORT","REVERSED_SORT","setKeys","setData","initializedSuccess","initialState","profiles","keys","initialized","reducer","state","action","type","data","sort","a","b","key","toLowerCase","getProfiles","dispatch","getData","then","response","status","Object","initializeApp","promise","Promise","all"],"mappings":";AAAA,SAASA,OAAT,QAAwB,YAAxB;AACA,SAASC,QAAT,EAAmBC,QAAnB,EAA6BC,mBAA7B,EAAkDC,WAAlD,EAA+DC,aAA/D,EACEC,OADF,EACWC,OADX,EACoBC,kBADpB,QAC8C,oBAD9C;AAGA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE,EADS;AAEnBC,EAAAA,IAAI,EAAE,EAFa;AAGnBC,EAAAA,WAAW,EAAE;AAHM,CAArB;;AAMA,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGL,YAAT,EAAuBM,MAAvB,KAAkC;AAChD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKf,QAAL;AACE,+BACKa,KADL;AAEEJ,QAAAA,QAAQ,EAAEK,MAAM,CAACE;AAFnB;;AAIF,SAAKf,QAAL;AACE,+BACKY,KADL;AAEEH,QAAAA,IAAI,EAAEI,MAAM,CAACJ;AAFf;;AAIF,SAAKR,mBAAL;AACE,+BACKW,KADL;AAEEF,QAAAA,WAAW,EAAE;AAFf;;AAIF,SAAKR,WAAL;AACE,+BACKU,KADL;AAEEJ,QAAAA,QAAQ,EAAE,CACR,GAAGI,KAAK,CAACJ,QAAN,CAAeQ,IAAf,CAAoB,CAACC,CAAD,EAAIC,CAAJ,KACrBD,CAAC,CAACJ,MAAM,CAACM,GAAR,CAAD,CAAcC,WAAd,KAA8BF,CAAC,CAACL,MAAM,CAACM,GAAR,CAAD,CAAcC,WAAd,EAA9B,GACI,CADJ,GAEIF,CAAC,CAACL,MAAM,CAACM,GAAR,CAAD,CAAcC,WAAd,KAA8BH,CAAC,CAACJ,MAAM,CAACM,GAAR,CAAD,CAAcC,WAAd,EAA9B,GACA,CAAC,CADD,GAEA,CALH,CADK;AAFZ;;AAYF,SAAKjB,aAAL;AACE,+BACKS,KADL;AAEEJ,QAAAA,QAAQ,EAAE,CACR,GAAGI,KAAK,CAACJ,QAAN,CAAeQ,IAAf,CAAoB,CAACC,CAAD,EAAIC,CAAJ,KACrBA,CAAC,CAACL,MAAM,CAACM,GAAR,CAAD,CAAcC,WAAd,KAA8BH,CAAC,CAACJ,MAAM,CAACM,GAAR,CAAD,CAAcC,WAAd,EAA9B,GACI,CADJ,GAEIH,CAAC,CAACJ,MAAM,CAACM,GAAR,CAAD,CAAcC,WAAd,KAA8BF,CAAC,CAACL,MAAM,CAACM,GAAR,CAAD,CAAcC,WAAd,EAA9B,GACA,CAAC,CADD,GAEA,CALH,CADK;AAFZ;;AAYF;AACE,aAAOR,KAAP;AA3CJ;AA6CD,CA9CD;;AAgDA,eAAeD,OAAf;AAEA,OAAO,MAAMU,WAAW,GAAG,MAAMC,QAAQ,IAAI;AAC3C,SAAOxB,OAAO,CAACyB,OAAR,GAAkBC,IAAlB,CAAuBC,QAAQ,IAAI;AACxC,QAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3BJ,MAAAA,QAAQ,CAAClB,OAAO,CAACuB,MAAM,CAAClB,IAAP,CAAYgB,QAAQ,CAACV,IAAT,CAAc,CAAd,CAAZ,CAAD,CAAR,CAAR;AACAO,MAAAA,QAAQ,CAACjB,OAAO,CAACoB,QAAQ,CAACV,IAAV,CAAR,CAAR;AACD;AACF,GALM,CAAP;AAMD,CAPM;AASP,OAAO,MAAMa,aAAa,GAAG,MAAMN,QAAQ,IAAI;AAC7C,QAAMO,OAAO,GAAGP,QAAQ,CAACD,WAAW,EAAZ,CAAxB;AACAS,EAAAA,OAAO,CAACC,GAAR,CAAY,CAACF,OAAD,CAAZ,EAAuBL,IAAvB,CAA4B,MAAM;AAChCF,IAAAA,QAAQ,CAAChB,kBAAkB,EAAnB,CAAR;AACD,GAFD;AAGD,CALM","sourcesContent":["import { dataAPI } from '../api/api';\nimport { SET_DATA, SET_KEYS, INITIALIZED_SUCCESS, DIRECT_SORT, REVERSED_SORT,\n  setKeys, setData, initializedSuccess } from '../actions/actions';\n\nconst initialState = {\n  profiles: [],\n  keys: [],\n  initialized: false,\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_DATA:\n      return {\n        ...state,\n        profiles: action.data,\n      };\n    case SET_KEYS:\n      return {\n        ...state,\n        keys: action.keys,\n      };\n    case INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true,\n      };\n    case DIRECT_SORT:\n      return {\n        ...state,\n        profiles: [\n          ...state.profiles.sort((a, b) =>\n            a[action.key].toLowerCase() > b[action.key].toLowerCase()\n              ? 1\n              : b[action.key].toLowerCase() > a[action.key].toLowerCase()\n              ? -1\n              : 0\n          ),\n        ],\n      };\n    case REVERSED_SORT:\n      return {\n        ...state,\n        profiles: [\n          ...state.profiles.sort((a, b) =>\n            b[action.key].toLowerCase() > a[action.key].toLowerCase()\n              ? 1\n              : a[action.key].toLowerCase() > b[action.key].toLowerCase()\n              ? -1\n              : 0\n          ),\n        ],\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n\nexport const getProfiles = () => dispatch => {\n  return dataAPI.getData().then(response => {\n    if (response.status === 200) {\n      dispatch(setKeys(Object.keys(response.data[0])));\n      dispatch(setData(response.data));\n    }\n  });\n};\n\nexport const initializeApp = () => dispatch => {\n  const promise = dispatch(getProfiles());\n  Promise.all([promise]).then(() => {\n    dispatch(initializedSuccess());\n  });\n};\n"]},"metadata":{},"sourceType":"module"}